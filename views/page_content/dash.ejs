
<title>Formal Signup - Dashboard</title>
<script>
	//Fix to pass user ID to angular
	var userId = '<%-userID%>';
</script>
<script src="/app.js"></script>

<link rel="stylesheet" href="loader.css">
<style type="text/css">

.fc-day-grid-event{
  cursor: pointer;
   cursor: hand;
}

</style>
		
<div id="loader">
    <div>
        <div class="spinner"></div>
        <p>Loading Formal Fun...</p>
    </div>
</div>


    <link rel="icon" href="favicon.ico" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.6.1/fullcalendar.css">
    <link rel="stylesheet" href="calendarDemo.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-colorpicker/2.3.0/css/bootstrap-colorpicker.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-colorpicker/2.3.0/js/bootstrap-colorpicker.min.js"></script>
    <script src="http://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.13.0.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.6.1/fullcalendar.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.6.1/gcal.js"></script>
    <script type="text/javascript" src="/angular-ui-bootstrap-modal.js"></script>
    <script src="/calendar.js"></script>
    <script src="/calendarDemo.js"></script>

<div class="container" ng-app="calendarDemoApp" ng-controller="MainCtrl">


<nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Formal Signup <sup>BETA</sup></a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#" data-toggle="modal" data-target="#aboutModal">About</a></li>
                </ul>
              </li>
            </ul>
            <p class="navbar-text navbar-right">Signed in as <a href="#" class="navbar-link" data-toggle="modal" data-target="#settingsModal">{{user.displayName}} <span class="glyphicon glyphicon-cog"></span></a></p>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>
        <section id="directives-calendar">
                <div class="row-fluid">
                    <div class="span4">
                        
                        <div class="btn-group calTools">             
                          <button type="button" class="btn btn-success" data-toggle="modal" data-target="#newSignupModal"> 
                            New Signup <span class="glyphicon glyphicon-plus"></span>
                          </button>
                        </div>

                        

                    </div>

                    <div class="span8">
                           <div class="calendar" ng-model="eventSources" calendar="myCalendar1" ui-calendar="uiConfig.calendar"></div>
                           
                    </div>
                </div>
        </section>









<link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.0/css/bootstrap-datepicker.min.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.0/js/bootstrap-datepicker.min.js"></script>



<!-- Modals -->
<div id="newSignupModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">New Signup</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal">
            <fieldset>

            <!-- Form Name -->

            <!-- Text input-->
            <div class="form-group">
              <label class="col-md-4 control-label" for="textinput">Date</label>  
              <div class="col-md-4">
              
               <input type="text" class="form-control" id="date" ng-model="newEvent.date">


              </div>
            </div>

            <!-- Multiple Checkboxes (inline) -->
            <div class="form-group">
              <label class="col-md-4 control-label" for="checkboxes"></label>
              <div class="col-md-4">
                <label class="checkbox-inline" for="checkboxes-0">
                  <input type="checkbox" name="checkboxes" id="checkboxes-0" value="" ng-model="newEvent.guest">
                  Guest
                </label>
              </div>
            </div>

            </fieldset>
            </form>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="addEvent()">Create</button>
      </div>
    </div>

  </div>
</div>






<div id="signupModal" class="modal fade" role="dialog" modal="signupModal">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" ng-click="signupClose()">&times;</button>
        <h4 class="modal-title">Edit Signup</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal">
            <fieldset>

            <!-- Form Name -->

            <!-- Text input-->
            <div class="form-group">
              <label class="col-md-4 control-label" for="textinput">Date</label>  
              <div class="col-md-4">
              
               <input type="text" class="form-control" id="date2" ng-model="newEvent.date">


              </div>
            </div>

            <!-- Multiple Checkboxes (inline) -->
            <div class="form-group">
              <label class="col-md-4 control-label" for="checkboxes"></label>
              <div class="col-md-4">
                <label class="checkbox-inline" for="checkboxes-0">
                  <input type="checkbox" name="checkboxes" id="checkboxes-0" value="" ng-model="newEvent.guest">
                  Guest
                </label>
              </div>
            </div>

            </fieldset>
            </form>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn" ng-click="signupClose()">Cancel</button>
        <button type="button" class="btn btn-danger" ng-click="signupDelete()">Delete</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="signupSave()">Save</button>
      </div>
    </div>

  </div>
</div>

<style>
.datepicker{
    top:140px !important;
}
</style>



<!-- Modal -->
<div id="settingsModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Settings</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal">
            <!-- Text input-->
            <div class="form-group">
              <label class="col-md-4 control-label" for="username">Username</label>  
              <div class="col-md-4">
              <input ng-model="user.username" name="username" type="text" placeholder="e.g. abcd12" class="form-control input-md">
                
              </div>
            </div>

            <!-- Text input-->
            <div class="form-group">
              <label class="col-md-4 control-label" for="textinput">Display Name</label>  
              <div class="col-md-4">
              <input ng-model="user.displayName" name="displayName" type="text" placeholder="e.g. Fred Bloggs" class="form-control input-md">
                
              </div>
            </div>

            <!-- Text input-->
            <div class="form-group">
              <label class="col-md-4 control-label" for="textinput">Dietary requirements</label>  
              <div class="col-md-4">
              <input ng-model="user.dietryRequirements" name="textinput" type="text" placeholder="e.g. Vegan" class="form-control input-md">
                
              </div>
            </div>

            <!-- Multiple Radios -->
            <div class="form-group">
              <label class="col-md-4 control-label" for="checkboxes"></label>
              <div class="col-md-4">
                <label class="checkbox-inline" for="liverIn">
                  <input ng-model="user.liverIn" type="checkbox" name="liverIn" id="liverIn" value="" >
                  Liver in
                </label>
              </div>
            </div>

            <!-- Multiple Checkboxes (inline) -->
            <div class="form-group">
              <label class="col-md-4 control-label" for="checkboxes"></label>
              <div class="col-md-4">
                <label class="checkbox-inline" for="checkboxes-0">
                  <input ng-model="user.cautiousMode" type="checkbox" name="checkboxes" id="checkboxes-0" value="" disabled>
                  Cautious Mode
                </label>
              </div>
            </div>

            <!-- Multiple Checkboxes (inline) -->
            <div class="form-group">
              <label class="col-md-4 control-label" for="checkboxes"></label>
              <div class="col-md-4">
                <label class="checkbox-inline" for="checkboxes-0">
                  <input ng-model="user.sendEmails" type="checkbox" name="checkboxes" id="checkboxes-0" value="" disabled>
                  Send Emails
                </label>
              </div>
            </div>

            <!-- Text input-->
            <div class="form-group">
              <label class="col-md-4 control-label" for="textinput">Colour</label>  
              <div class="col-md-4">
              <input ng-model="user.color" name="color" type="text" placeholder="e.g. Fred Bloggs" class="form-control input-md" id="colPicker">
                
              </div>
            </div>

            </form>


      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="saveUser();">Save</button>
      </div>
    </div>

  </div>
</div>



<div id="aboutModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">About</h4>
      </div>
      <div class="modal-body">
        <p>A simple tool designed to make formal signup easier</p>
        <p>Simply click 'New Signup' and pick your date and guest preference</p>
        <p>Change settings such as dietry requirements. (Note: these will only take effect for the next formal signup)</p>
        <br><br>
        <p>Enjoy your extra hour in bed.</p>
        <br>
        <h3>How it works</h3>

        <p>The system signs you up for formal by default then drops your place at 1pm on the day of the formal if you don't want it.</p>
        <p>This allows you to decide to go on formal at ANY TIME before 1pm on the day itself - FREEDOM!!!!</p>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>




<script>
$('#date').datepicker({
    format: 'dd/mm/yyyy',
    autoclose: true,
    orientation: "bottom right",
    todayHighlight:true,
    //daysOfWeekHighlighted:"24",
    daysOfWeekDisabled:"013567"
});
$('#date2').datepicker({
    format: 'dd/mm/yyyy',
    autoclose: true,
    orientation: "bottom right",
    todayHighlight:true,
    daysOfWeekDisabled:"013567"
});

/*$(function(){
    $('#colPicker').colorpicker({"format":"hex","color":$("#colPicker").val()});
    //$('#colPicker').colorpicker('setValue',"#FF0000");
    console.log("hi",$("#colPicker").val())
    console.log($("#colPicker").val());
});*/

</script>